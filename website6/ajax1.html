<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Document</title>
	</head>

	<body>
		<button type="button" name="button" id="button" value="">请求纯文本</button>
	</body>

</html>
<div id="text">
	<script type="text/javascript">
		//监听button对象
		  document.getElementById("button").addEventListener('click',loadText);
		  //实现loadText方法
		  function loadText(){
		  	//Asynchronouse JavaScript And XML //ajax的全称
		  	// axios Fetch API  prototype NODE API jQuery //获取ajax的方法
		  	// XMLHttpRequest
		    // 1.要实例化xhr对象

		  	var xml=new XMLHttpRequest();
		    // console.log(xml);
		    //2.配置对象信息 type url/file asyn(是否异步)
		    xml.open("GET","sample.txt",false);//变量(获取方式,路径或文件名,true（异步）/false（同步)

		    // 0: 请求未初始化
		    // 1: 服务器连接已建立
		    // 2: 请求已接收
		    // 3: 请求处理中
		    // 4: 请求已完成，且响应已就绪
		    //3.执行处理数据的方法
		    xml.onload = function(){
		      if(this.status==200){
		          console.log(xml.readyState);//请求状态
		      }
		    }
			xml.onprogress = function(){
				 console.log(xml.readyState);//请求状态
			}
		    xml.onreadystatechange = function(){
		      if (this.readyState == 4 && this.status == 200) {
		      	document.getElementById("text").innerHTML = this.responseText;
					// 	console.log(xml.readyState);//请求状态
		      }

		    }
		    //4.发送请求
		    xml.send();
		    // console.log(123)
		  }
	</script>
</div>
